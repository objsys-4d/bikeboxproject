<!--FORM METHOD-->
{{ParticipantSelect_Modal2}}

<!--HIDDEN VALUES-->
<input type="hidden" name="Person.UUID" value="{{Person.UUID}}" />
<!--/HIDDEN VALUES-->

<!--MODAL FORM-->
<div class="modal" id="participants_select2.html" tabindex="-1" role="dialog" aria-labelledby="participants_select2.html" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-gradient-primary">
                <h5 class="modal-title text-white">Select Participants</h5>
            </div>
    <div class="modal-body bg-gray-100">
                              
    <div class="mt-3">
    
        <!--THIS DATATABLE HAS INLINE STYLE ADDITIONS = DISPLAYED IN A BOOTSTRAP TAB-->
        <table class="table table-hover mt-2" style="border-top:0px;width:100% !important" id="person">
            <thead>
                <tr>
                    <th><!--HIDDEN UUID--></th>
                    <th><!--checkbox--></th>
                    <th>{{%participants}}</th>
                </tr>
            </thead>
        </table>
    </div>
				
				
    </div>
            <div class="modal-footer bg-gray-100">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">{{%cancel}}</button>
                
                <button type="button" class="btn btn-primary" data-dismiss="modal"
                    onclick="ltgFormAction('?action=save&record={{Participant.UUID}}&method=ParticipantEvent_Select');">Select</button>
            </div>
        </div>
    </div>
</div>
<!--/MODAL FORM-->

<script>
       
        // DATATABLES...
            
 			var data = {{.personDataTable}};
        
       		var table = ltgObj('person').DataTable(
            {
                data: data,
                columnDefs: [
                {
                    targets: [ 0 ],
                    visible: false, // UUID (HIDDEN)
                },
                {
                    targets: [ 1 ], // SELECT RECORD
                    render: function ( data, type, row, meta ) {
                        if(type === 'display'){
                        
                            data = '<input type="checkbox" onclick="ltgFormAction(\'?action=select&record='+row[1]+'\');">';
                        }
    
                        return data;
                    },
                    sortable: false,
                }
			
            ],
            }
        );

   /* DESTROY MODAL AFTER DISMISSING */
   
   ltgObj('participants_select2.html').on('hidden.bs.modal', function (e) {
     ltgDialogClose('participants_select2.html')
    })
</script>
